<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>이벤트 연결 범위 한정</title>
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script>
        /*
           on ( ) 메서드는 selector 매개 변수로 이벤트 범위를 한정할 수 있습니다. 
           이렇게 범위를 한정하는 이벤트 연결 방식을 delegate 방식이라고합니다.
        */
        
        /*$(document).ready(function(){
            $('h1').on('click', function () {
                var length = $('h1').length;
                var targetHTML = $(this).html();
                $('#wrap').append('<h1>' + length + '-' + targetHTML + '</h1>');
            });
        });*/
        
        
        //코드를 실행하고 h1 태그를 누르면 h1 태그가 추가됩니다. 
        //하지만， 새로 생긴 h1 태그를 클릭하면 아무 일도 일어나지 않습니다.
        //on() 메서드는 현재 존재히는 태그에만 이벤트를 연결하기 때문입니다.
        //따라서 이러한 경우에는 상위 태그에 이벤트를 연결하고 “h1 태그를 클릭했을 때”를 검출해야 합니다
        
        //[delegate 방식을 사용하는 on() 메서드]
         $(document).ready(function(){
            $('#wrap').on('click', 'h1', function () {
                var length = $('h1').length;
                var targetHTML = $(this).html();
                //this 키워드가 #wrap 태그가 아니라 h1 태그라는 것!!!
                $('#wrap').append('<h1>' + length + '-' + targetHTML + '</h1>');
                
                //이벤트 제거[ 델리게이트 방식으로 연결한 on() 메서드의 이멘트 리스너 삭제]
                //$('#wrap').off('click','h1');
            });
        });
    </script>
</head>
<body>
    <div id="wrap">
       <h1>Header</h1>
    <div>
</body>
</html>