<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>윈도 이벤트</title>
    <style>
        img{
            width: 200px;
            height: 200px;
        }
    </style>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script>
        /*
            윈도 이벤트는 윈도 객체만 사용할 수 있는 이벤트가 아니라 
            window 객체와 document 객체 이외에
            img 태그 등이 사용할 수 있는 이벤트이다.
            
            [윈도 이벤트]
            1. ready   : 문서 객체가 준비 완료되면
            2. load    : 윈도(문서 객체)를 불러들일 때 발생
            3. unload  : 윈도를 닫을 때 발생
            4. resize  : 윈도의 크기를 변화시킬 때 발생
            5. scroll  : 윈도를 스크롤할 때 발생
            6. error   : 에러가 있을 때 발생
            
            페이스북의 무한 스크롤
            : 스크롤이 문서 끝까지 내려가면 자동으로 포스트를 추가해 스크롤을 늘린다.
              스크롤을 무한히 추가하므로 이를 무한스크롤이라 하는데 윈도 이벤트중 스크롤이벤트를 사용한 대표적인 예이다.
        */
        $(document).ready(function(){
            $(window).scroll(function(){
                //사용자가 스크롤을 움직이면 무조건 scroll이벤트가 발생한다.
                //무한 스크롤을 만드려면 화면 끝까지 스크롤이 도달했다는 사실을 인식할 수 있어야 한다
                //document 객체의 height 속성은 문서 전체의 높이를 의미하는데
                //스크롤이 끝까지 내려가면 윈도우 객체의 스크롤탑(scrollTop)속성과 높이(height)속성을 합한 값이
                //document 객체의 높이와 같아진다. 이를 사용해 스크롤이 끝까지 도달했다는 것을 인식한다.
                
                //예제는 스크롤이 끝까지 닿으면 자동으로 이미지 태그 10개가 추가되는 코드입니다.
                
                var scrollH     = $(window).scrollTop() + $(window).height();
                var documentH   = $(document).height()-200;
                
                
                //alert(scrollH+"__" +documentH);
                if(scrollH == documentH){
                    for(var i=0; i<10; i++){
                        $('<h1>'+documentH+'</h1>').appendTo('body');
                        //$('<img src="../../../common/img/Koala.jpg" /><br />').appendTo('body');
                    }
                }
            });
        });
        
        $(document).ready(function(){
            for(var i=0; i<20; i++){
                $('<h1>'+$(window).height()+'</h1>').appendTo('body');
                //$('<img src="../../../common/img/Koala.jpg" /><br />').appendTo('body');
            }
        });
    </script>
</head>
<body>
    
</body>
</html>