<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>키보드 이벤트</title>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script>
        /*
            1. keydown  : 키보드를 누를 때 발생
            2. keypress : 글자가 입력될 때 발생 (한글로 사용할 수 없다. 예를들어 글자 수 세기)
            3. keyup    : 키보드를 뗄 때 발생
        */
        
        // textarea태그에 keyup 이벤트를 연결하여 keyup 이벤트가 발생하면 글자의 개수를 받아 출력하는 예제
        
        $(document).ready(function(e){
            $('textarea').keyup(function(){
                //남은 글자 수를 구한다.
                var inputLength = $(this).val().length;
                var remain = 10 - inputLength;
                
                //문서 객체에 입력
                $('h1').html(remain);
                
                //alert(typeof(remain));
                //alert(remain);
                
                if(remain <= 0){
                    alert('더 이상 입력할 수 없습니다.');
                    $('h1').css('color','red');
                }
                
                
                /*
                     [ 풀이 ]
                     - keyup예제를 사용한 이유는?
                     
                     : 영어를 입력하는 경우에는 keypress 이벤트를 사용하기 좋지만, 이벤트가 한글을 지원하지 않기 때문에 탈락
                     
                     - keydown 이벤트가 아니라 keyup 이벤트를 사용한 이유는?
                     
                         [ 키보드 이벤트 발생 순서 ]
                         1. 사용자가 키보드를 누른다
                         2. keydown 이벤트가 발생된다
                         3. 글자가 입력된다
                         4. keypress 이벤트가 발생
                         5. 사용자가 키보드에서 손을 뗀다
                         6. keyup 이벤트가 발생된다
                     
                     : keydown 이벤트가 발생한 순간에는 글자가 입력되지 않으므로 keyup이벤트를 사용한다.
                     
                     - 키보드를 계속 동일하게 누르고 있는경우?
                     
                     : keyup이벤트를 응용한 코드로는 처리할 수 없다.
                       keypress 이벤트를 보완하는 방법을 더 많이 사용한다.
                */
            });
        });
    </script>
</head>
<body>
    <div>
        <p>지금 내 생각을</p>
        <h1>10</h1>
        <textarea col="70" rows="5"></textarea>
    </div>
</body>
</html>